(function(e){function t(t){for(var r,o,s=t[0],c=t[1],p=t[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&l.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(l.length)l.shift()();return a.push.apply(a,p||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/pfdo-platformer-prod/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var p=0;p<s.length;p++)t(s[p]);var m=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00c7":function(e,t,n){e.exports=n.p+"img/programmer_face1.957c6d7f.png"},"0c0e":function(e,t,n){e.exports=n.p+"img/programmer33.d7d87734.png"},1468:function(e,t,n){e.exports=n.p+"img/fail1.0cbda05a.png"},"227d":function(e,t,n){e.exports=n.p+"img/fail0.d7b507cf.png"},"2bbf":function(e,t,n){e.exports=n.p+"img/programmer10.f43f371b.png"},3061:function(e,t,n){e.exports=n.p+"img/programmer31.146fa4a1.png"},"373c":function(e,t,n){e.exports=n.p+"img/certificate1.7acb58e7.png"},3772:function(e,t,n){e.exports=n.p+"img/programmer32.37ddb1f0.png"},"396a":function(e,t,n){e.exports=n.p+"img/client3.423baf2c.png"},4123:function(e,t,n){e.exports=n.p+"img/client2.d36c705c.png"},"44d4":function(e,t,n){e.exports=n.p+"img/certificate0.a4fb73b8.png"},4598:function(e,t,n){e.exports=n.p+"img/client1.b3dc8d12.png"},4818:function(e,t,n){e.exports=n.p+"img/running0.d2b7c1f7.png"},5062:function(e,t,n){var r={"./programmer00.png":"5cd3","./programmer01.png":"6a89","./programmer02.png":"a861","./programmer03.png":"e6ea","./programmer10.png":"2bbf","./programmer11.png":"6f84","./programmer12.png":"6b14","./programmer13.png":"6685","./programmer20.png":"db2a","./programmer21.png":"d663","./programmer22.png":"be7e","./programmer23.png":"5cc1","./programmer30.png":"f2ea","./programmer31.png":"3061","./programmer32.png":"3772","./programmer33.png":"0c0e","./programmer_face1.png":"00c7","./programmer_face2.png":"b55d","./programmer_face3.png":"d802","./programmer_face4.png":"85f1"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="5062"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");for(var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.isGameStarted?[n("game-field")]:[n("start-menu",{on:{start:function(t){e.isGameStarted=!e.isGameStarted}}})]],2)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"start-menu"},[n("div",{staticClass:"elements"},[n("pfdo-game-logo"),n("div",{staticClass:"text-center"},[n("button",{on:{click:function(t){return e.$emit("start")}}},[e._v("Новая игра")])]),e._m(0),e._m(1),e._m(2),e._m(3)],1)])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("button",[e._v("Пожертвовать на развитие")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("div",{staticClass:"header-controls"},[e._v("Описание")]),n("div",{staticClass:"description"},[e._v("Вы Cемён и ваша цель удовлетворить как можно больше людей. Родителям нужны сертификаты, а разработчики постоянно потребляют деньги и несут баги на прод")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("div",{staticClass:"header-controls"},[e._v("Управление")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"controls"},[n("div",{staticClass:"item"},[n("div",{staticClass:"item-button"},[e._v("space")]),n("div",{staticClass:"item-text"},[e._v("Отправить сертификат или деньги")])]),n("div",{staticClass:"item"},[n("div",{staticClass:"item-button"},[e._v("↑")]),n("div",{staticClass:"item-button"},[e._v("↓")]),n("div",{staticClass:"item-text"},[e._v("Перемещение игрока")])]),n("div",{staticClass:"item"},[n("div",{staticClass:"item-button"},[e._v("←")]),n("div",{staticClass:"item-text"},[e._v("Смена предмета для метания (сертификаты/деньги)")])])])}],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"pfdo-game-logo"},[e._v("Сертификатмэн")])},p=[],m=(n("c881"),n("2877")),d={},l=Object(m["a"])(d,c,p,!1,null,"23dd73bb",null),f=l.exports,u={name:"HelloWorld",components:{PfdoGameLogo:f}},g=u,h=(n("d474"),Object(m["a"])(g,o,s,!1,null,"2ef0aaa6",null)),v=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isGameOver?[n("game-over",{attrs:{score:e.score,gameStart:e.gameStart}})]:e._e(),n("div",{attrs:{id:"gameField"}})],2)},y=[],x=(n("99af"),n("caad"),n("d81d"),n("18a5"),n("22a2")),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"start-menu"},[r("div",{staticClass:"elements"},[r("pfdo-game-logo"),r("div",{staticClass:"text-center"},[r("h1",[e._v("Игра окончена")]),e.score<10?[e.count%2===0?[r("img",{staticClass:"image",attrs:{src:n("227d")}})]:[r("img",{staticClass:"image",attrs:{src:n("1468")}})],r("p",[e._v("Ваш результат "+e._s(e.score)+". Как-то слабо.")])]:[e.count%2===0?[r("img",{staticClass:"image",attrs:{src:n("cd61")}})]:[r("img",{staticClass:"image",attrs:{src:n("9c01")}})],r("p",[e._v("Ваш результат "+e._s(e.score)+". Молодец. Вы справились.")])],r("div",{staticClass:"controls"},[r("button",{on:{click:e.gameStart}},[e._v("Попробовать снова")])])],2)],1)])},_=[],C=(n("a9e3"),{props:{score:Number,gameStart:Function},name:"GameOver",components:{PfdoGameLogo:f},mounted:function(){var e=this;this.timer=setInterval((function(){e.count++}),300)},beforeDestroy:function(){clearInterval(this.timer)},data:function(){return{count:0,timer:null}}}),O=C,E=(n("f581"),Object(m["a"])(O,w,_,!1,null,"47a2cc03",null)),k=E.exports,M=[83,40],P=[87,38],S=[32],T=[37],j=3,D=[],F=[],G=[],U=[],H=0,L=0;L<4;L++)D.push(x["e"].from(n("77ee")("./running".concat(L,".png"))));for(var $=0;$<1;$++)F.push(x["e"].from(n("edba")("./certificate".concat($,".png"))));for(var I=1;I<6;I++)G.push(x["e"].from(n("65b8")("./client".concat(I,".png"))));for(var N=0;N<4;N++){for(var W=[],B=0;B<4;B++)W.push(x["e"].from(n("5062")("./programmer".concat(N).concat(B,".png"))));U[N]=W}var K={certificate:x["e"].from(n("f2f2")),money:x["e"].from(n("875b")),heart:x["e"].from(n("fa49")),player:D,playerDropped:F,clientFrames:G,programmers:U},z={developer:0,client:1},J={components:{GameOver:k},mounted:function(){window.addEventListener("keydown",this.handleKeyDown.bind(this)),this.initCanvas();var e=1e3,t=this,n=function n(){e=1e3-5*t.score,t.generateEnemy(),setTimeout(n,e)};setTimeout(n,e),this.drawMode()},beforeDestroy:function(){window.removeEventListener("keydown",this.handleKeyDown.bind(this))},data:function(){return{app:null,player:null,mode:null,lives:null,scoreText:null,isGameOver:!1,enemiesPoll:[],score:0,healthPoints:j,healthPointsText:null}},methods:{initCanvas:function(){var e=new x["b"]({height:window.innerHeight,width:window.innerWidth,transparent:!0,antialiasing:!0});document.getElementById("gameField").appendChild(e.view);var t=new x["a"](K.player),n=Math.round(e.screen.height/4),r=new x["d"]("Выполнено: ".concat(this.score),{fontSize:24}),i=new x["d"]("".concat(this.healthPoints),{fontSize:24});r.x=20,r.y=20,i.x=220,i.y=20,t.anchor.set(.5),t.scale.set(.4),t.x=e.screen.width-100,t.animationSpeed=.15,t.play(),t.y=n;var a=x["c"].from(x["e"].WHITE);a.width=e.screen.width,a.height=n,a.tint=8431847,e.stage.addChild(a);for(var o=1;o<4;o++){var s=x["c"].from(x["e"].WHITE);s.width=e.screen.width,s.y=n*o,s.height=n,e.stage.addChild(s);var c=x["c"].from(x["e"].WHITE);c.width=e.screen.width,c.y=n*o,c.height=5,c.tint=8431847,e.stage.addChild(c)}e.stage.addChild(r),e.stage.addChild(t),e.stage.addChild(i),t.interactive=!0,this.app=e,this.player=t,this.scoreText=r,this.healthPointsText=i,this.rowHeight=n,this.drawLives(),this.drawMode()},handleKeyDown:function(e){M.includes(e.keyCode)&&this.moveDown(),P.includes(e.keyCode)&&this.moveUp(),S.includes(e.keyCode)&&this.dropCertificate(),T.includes(e.keyCode)&&(H=0===H?1:0,this.drawMode())},moveDown:function(){this.player.y<3*this.rowHeight&&(this.player.y+=this.rowHeight)},moveUp:function(){this.player.y>this.rowHeight&&(this.player.y-=this.rowHeight)},dropCertificate:function(){var e=this,t=null;0===H?t=new x["c"](K.certificate):1===H&&(t=new x["c"](K.money)),t.scale.set(.1),t.anchor.set(.5),t.type=this.mode.type,t.x=this.player.x,t.y=this.player.y,t.interactive=!0,this.app.stage.addChild(t),this.app.ticker.add((function(){t.x-=(t.x+1e3)/1e3*10,e.checkForCollision(t),t.rotation+=.1,t.x<0&&(e.app.stage.removeChild(t),t.isUsed=!0)}))},checkForCollision:function(e){var t=this;this.enemiesPoll.map((function(n){e.x<n.x&e.y===n.y&&!e.isUsed&&!n.destroyed&&n.type===e.type&&(n.destroyed=!0,e.isUsed=!0,t.score++,t.scoreText.text="Выполнено: ".concat(t.score),t.app.stage.removeChild(n),t.app.stage.removeChild(e))}))},generateEnemy:function(){var e=[1,2,3],t=e[Math.floor(Math.random()*e.length)];this.addEnemy(t)},addEnemy:function(e){var t=this,n=Math.random()>.5?z.developer:z.client,r=null;if(n===z.client){var i=Math.floor(Math.random()*Math.floor(4));r=new x["a"](K.programmers[i])}else r=new x["a"](K.clientFrames);r.type=n,r.animationSpeed=.1,r.play(),r.anchor.set(.5),r.scale.set(.5),r.x=0,r.y=this.rowHeight*e,r.interactive=!0,r.speed=Math.max(1,1.3*Math.random())+this.score/10,this.app.stage.addChild(r),this.app.ticker.add((function(){r.x+=5*r.speed,r.x>t.player.x&&!r.destroyed&&(t.gameOver(),r.destroyed=!0)})),this.enemiesPoll.push(r)},drawMode:function(){null!==this.mode&&this.mode.destroy(),0===H?this.mode=new x["c"](K.certificate):1===H&&(this.mode=new x["c"](K.money)),this.mode.type=H,this.mode.scale.set(.1),this.mode.anchor.set(.5),this.mode.x=this.player.x,this.mode.y=50,this.mode.interactive=!1,this.app.stage.addChild(this.mode)},drawLives:function(){this.lives=new x["c"](K.heart),this.lives.scale.set(.02),this.lives.x=190,this.lives.y=20,this.lives.interactive=!1,this.app.stage.addChild(this.lives)},gameOver:function(){this.healthPoints--,this.healthPoints<=0&&(this.app.stop(),this.enemiesPoll=[],this.isGameOver=!0,this.healthPoints=j,document.getElementById("gameField").style.display="none"),this.healthPointsText.text="".concat(this.healthPoints)},gameStart:function(){document.getElementById("gameField").style.display="block",document.getElementById("gameField").innerHTML="",this.score=0,this.app.destroy(),this.initCanvas(),this.isGameOver=!1}}},A=J,q=Object(m["a"])(A,b,y,!1,null,null,null),Q=q.exports,R={name:"App",components:{StartMenu:v,GameField:Q},data:function(){return{isGameStarted:!1}}},V=R,X=Object(m["a"])(V,i,a,!1,null,null,null),Y=X.exports;n("b20f");r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(Y)}}).$mount("#app")},"5cc1":function(e,t,n){e.exports=n.p+"img/programmer23.1280db4e.png"},"5cd3":function(e,t,n){e.exports=n.p+"img/programmer00.8f274518.png"},"65b8":function(e,t,n){var r={"./client1.png":"4598","./client2.png":"4123","./client3.png":"396a","./client4.png":"d073","./client5.png":"b031"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="65b8"},6685:function(e,t,n){e.exports=n.p+"img/programmer13.330856ea.png"},"6a89":function(e,t,n){e.exports=n.p+"img/programmer01.576c0372.png"},"6b14":function(e,t,n){e.exports=n.p+"img/programmer12.d948d8a3.png"},"6f84":function(e,t,n){e.exports=n.p+"img/programmer11.3150cb90.png"},"77ee":function(e,t,n){var r={"./running0.png":"4818","./running1.png":"a225","./running2.png":"7ca9","./running3.png":"fc99"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="77ee"},"7ca9":function(e,t,n){e.exports=n.p+"img/running2.a1487a07.png"},"85f1":function(e,t,n){e.exports=n.p+"img/programmer_face4.f2bfabf0.png"},"875b":function(e,t,n){e.exports=n.p+"img/money.3e4c815f.png"},"9c01":function(e,t,n){e.exports=n.p+"img/money1.c6e57212.png"},a225:function(e,t,n){e.exports=n.p+"img/running1.5686bc2a.png"},a861:function(e,t,n){e.exports=n.p+"img/programmer02.829ee5d1.png"},b031:function(e,t,n){e.exports=n.p+"img/client5.b8abb59b.png"},b20f:function(e,t,n){},b40c:function(e,t,n){},b55d:function(e,t,n){e.exports=n.p+"img/programmer_face2.3a3fac34.png"},bb18:function(e,t,n){},be43:function(e,t,n){},be7e:function(e,t,n){e.exports=n.p+"img/programmer22.57d2e368.png"},c881:function(e,t,n){"use strict";var r=n("be43"),i=n.n(r);i.a},cd61:function(e,t,n){e.exports=n.p+"img/money0.b9ab9383.png"},d073:function(e,t,n){e.exports=n.p+"img/client4.0c494069.png"},d474:function(e,t,n){"use strict";var r=n("bb18"),i=n.n(r);i.a},d663:function(e,t,n){e.exports=n.p+"img/programmer21.1e0aa42f.png"},d802:function(e,t,n){e.exports=n.p+"img/programmer_face3.7e92ce17.png"},db2a:function(e,t,n){e.exports=n.p+"img/programmer20.504ae955.png"},e6ea:function(e,t,n){e.exports=n.p+"img/programmer03.f5aeec7b.png"},edba:function(e,t,n){var r={"./certificate0.png":"44d4","./certificate1.png":"373c"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="edba"},f2ea:function(e,t,n){e.exports=n.p+"img/programmer30.3c69f24b.png"},f2f2:function(e,t,n){e.exports=n.p+"img/certificate.dca94884.png"},f581:function(e,t,n){"use strict";var r=n("b40c"),i=n.n(r);i.a},fa49:function(e,t,n){e.exports=n.p+"img/heart.da1a1de0.png"},fc99:function(e,t,n){e.exports=n.p+"img/running3.fea24111.png"}});
//# sourceMappingURL=app.84a93b91.js.map